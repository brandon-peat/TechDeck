<div class="d-flex conversation-card-container pointer"
    [class.unread]="!conversation.isRead && (!conversation.isLastMessageFromMe || conversation.personId == this.user()!.userId)"
    (click)="this.openChatEvent.emit(conversation.personId)">
    
    <div class="profile-picture" [style.backgroundImage]="profilePictureStyle">
        @if (!conversation.isRead) {
            <div class="unread-messages-count">
                {{ conversation.unreadMessagesCount }}
            </div>
        }
    </div>
    
    <div class="d-flex info">
        <span class="name">
            {{ conversation.fullName }}
        </span>
    
        <span class="last-message-preview">
            @if(conversation.isLastMessageFromMe) { You: }
            {{ conversation.text }}
        </span>
    </div>
</div>
