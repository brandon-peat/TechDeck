<div class="d-flex page w-100">
    <div class="left-column">
        @if (isLoggedIn()) {
            <p-button styleClass="w-75" label="New Post" icon="pi pi-pencil" (click)="showNewPostForm()" />
        }
    </div>

    <div class="main-column">
        @if (showForm) {
            <form class="post-form row g-3" [formGroup]="newPostForm" (ngSubmit)="onSubmit()">
                <form-field class="col-md-8">
                    <textarea class="post-text" pInputTextarea formControlName="text" [autoResize]="true"
                        showError="Post body"> </textarea>
                </form-field>
                <div class="post-controls col-md-2">
                    <p-button class="attach-file" icon="pi pi-image" [rounded]="true" [text]="true"
                        (click)="fileInput.click()"/>
                    <input type="file" multiple id="file" class="file-input" #fileInput
                    (change)="handleFileInput($event)">
                    
                    
                </div>
                <div class="post-button-container col-md-2">
                    <p-button class="post-button" label="Post" type="submit" icon="pi pi-comment"
                        [disabled]="!newPostForm.valid" />
                </div>
            </form>
        }

        <timeline [isProfile]="false" />

        <div>
            <p-toast key="cornerToasts" />
        </div>
    </div>
</div>